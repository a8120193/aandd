<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="../aandd.js"></script>
    <script type="text/javascript" src="../jquery.min.js"></script>

    <script>
        //prac4-0
        function runButtonPressed() {
            var numbers = [];
            var num = 0;
            for (var i = 1; i <= 10; i++) {
                var x = Math.random() * 4 + 1;
                x = Math.floor(x);
                num = num + x;
                numbers.push(num);
            }
            show(numbers);

            //prac4-3
            var search = 13; //特定の数字
            var num2 = -1;
            for (var j = 0; j < 10; j++) {
                if (numbers[j] == search) {
                    num2 = j;
                } else {
                    num2 = num2;
                }
            }
            console.log(`num2=${num2}`);
            if (num2 == -1) {
                show('リニアサーチ：見つかりませんでした');
            } else if (num2 >= 0) {
                show('リニアサーチ：' + num2 + '番地です');
            }

            //prac4-4
            var search2 = 14; // 特定の数字
            var num3 = 0;
            if (numbers[4] < search2) {
                if (numbers[7] < search2) {
                    if (numbers[8] < search2) {
                        if (numbers[9] < search2) {
                            num3 = -1;
                        } else if (numbers[9] == search2) {
                            num3 = 9;
                        } else {
                            num3 = -1;
                        }
                    } else if (numbers[8] > search2) {
                        num3 = -1;
                    } else {
                        num3 = 8;
                    }
                } else if (numbers[7] > search2) {
                    if (numbers[5] > search2) {
                        num3 = -1;
                    } else if (numbers[5] < search2) {
                        if (numbers[6] == search2) {
                            num3 = 6;
                        } else {
                            num3 = -1;
                        }
                    } else {
                        num3 = 5;
                    }
                } else {
                    num3 = 7;
                }
            } else if (numbers[4] > search2) {
                if (numbers[2] < search2) {
                    if (numbers[3] > search2) {
                        num3 = -1;
                    } else if (numbers[3] < search2) {
                        num3 = -1;
                    } else {
                        num3 = 3;
                    }
                } else if (numbers[2] > search2) {
                    if (numbers[0] > search2) {
                        num3 = -1;
                    } else if (numbers[0] < search2) {
                        if (numbers[1] == search2) {
                            num3 = 1;
                        } else {
                            num3 = -1;
                        }
                    } else {
                        num3 = 0;
                    }
                } else {
                    num3 = 2;
                }
            } else {
                num3 = 4;
            }


            if (num3 == -1) {
                show('バイナリサーチ：見つかりませんでした')
            } else {
                show('バイナリサーチ：' + num3 + '番地です');
            }





            var lower = 0;
            var upper = numbers.length - 1;
            var numb = -1;

            // for (var j = 1; j <= 100; j++) {
            //     numbers.length = numbers.length / 2;
            //     numbers.length = Math.floor(numbers.length);
            //     if (numbers.length == 1) {
            //         var a = j;
            //         break;
            //     }
            // }



            for (var k = 0; k <= 10; k++) {
                var mid = (upper + lower) / 2;
                mid = Math.floor(mid);
                console.log(`upper=${upper}, lower=${lower}, mid=${mid}`);
                if (numbers[mid] > search2) {
                    upper = mid;
                } else if (numbers[mid] < search2) {
                    lower = mid;
                } else {
                    numb = mid;
                }


            }


            if (numb == -1) {
                show('バイナリサーチ：見つかりませんでした')
            } else {
                show('バイナリサーチ：' + numb + '番地です');
            }



        }







    </script>

</head>

<body>
    <h1>ex3-1</h1>
    <button onclick="runButtonPressed()">run!</button>
    <p id="res"></p>
</body>

</html>